<Page x:Class="Dormitory_Management.View.RoomPayment"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:Dormitory_Management.View"
      mc:Ignorable="d" d:DesignWidth="900"
      Title="RoomPayment" Height="1090">

    <Grid Background="#f0f0f0" Margin="0,0,0,70">
        <!-- Phần nhập thông tin -->
        <Border Background="White" CornerRadius="10" Padding="20" Width="600" VerticalAlignment="Top" HorizontalAlignment="Center" Margin="0,20,0,0" Height="600">
            <StackPanel VerticalAlignment="Top" HorizontalAlignment="Center">
                <!-- Tiêu đề -->
                <TextBlock Text="Room Payment" FontSize="22" FontWeight="Bold" Foreground="#2c3e50" HorizontalAlignment="Center" Margin="0,0,0,20"/>

                <!-- Nhập số điện thoại -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,10">
                    <TextBlock Text="Phone Number:" VerticalAlignment="Center" Margin="0,5" Width="120"/>
                    <TextBox x:Name="PhoneTextBox" Height="30" Width="300"/>
                </StackPanel>

                <!-- Nút tìm kiếm -->
                <Button Content="Search" Width="120" HorizontalAlignment="Center" Click="SearchStudent_Click" Margin="0,10,0,20"/>

                <!-- Hiển thị tên sinh viên -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,10">
                    <TextBlock Text="Student Name:" VerticalAlignment="Center" Margin="0,5" Width="120"/>
                    <TextBox x:Name="StudentNameTextBox" Margin="0,5,0,10" Height="30" IsReadOnly="True" Width="300"/>
                </StackPanel>

                <!-- Hiển thị email -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,10">
                    <TextBlock Text="Email ID:" VerticalAlignment="Center" Margin="0,5" Width="120"/>
                    <TextBox x:Name="EmailTextBox" Margin="0,5,0,10" Height="30" IsReadOnly="True" Width="300"/>
                </StackPanel>

                <!-- Hiển thị số phòng -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,10">
                    <TextBlock Text="Room Number:" VerticalAlignment="Center" Margin="0,5" Width="120"/>
                    <TextBox x:Name="RoomNumberTextBox" Margin="0,5,0,10" Height="30" IsReadOnly="True" Width="300"/>
                </StackPanel>

                <!-- Chọn ngày thanh toán -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,10">
                    <TextBlock Text="Select Payment Date:" VerticalAlignment="Center" Margin="0,5" Width="120"/>
                    <DatePicker x:Name="PaymentDatePicker" Margin="0,5,0,10" Height="30" Width="300"/>
                </StackPanel>

                <!-- Hiển thị số tiền phải trả -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,10">
                    <TextBlock Text="Amount to Pay:" VerticalAlignment="Center" Margin="0,5" Width="120"/>
                    <TextBox x:Name="AmountTextBox" Margin="0,5,0,10" Height="30" Width="300"/>
                </StackPanel>

                <!-- Nút thanh toán, làm lại, và xem danh sách thanh toán -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,20">
                    <Button Content="Pay" Width="120" Click="PayButton_Click" Margin="10,0,10,0"/>
                    <Button Content="Clear" Width="120" Click="ClearButton_Click"/>
                    <Button Content="View" Width="120" Click="ViewPayment_Click" Margin="10,0,10,0"/>
                    <Button Content="Export" Width="120" Click="btnExport_Click"/>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Bảng thông tin thanh toán (ListBox) - Được ẩn ban đầu -->
        <ListBox x:Name="PaymentListBox" Margin="320,620,320,250" BorderBrush="Gray" BorderThickness="1" Visibility="Collapsed">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal" Margin="10">
                        <TextBlock Text="{Binding MobileNo}" Width="200" HorizontalAlignment="Left" />
                        <TextBlock Text="{Binding Fmonth}" Width="200" HorizontalAlignment="Left" />
                        <TextBlock Text="{Binding Amount}" Width="200" HorizontalAlignment="Left" />
                    </StackPanel>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </Grid>
</Page>
